{"version":3,"sources":["index.js"],"names":["Square","props","type","className","onClick","checked","value","disabled","Advancer","React","Component","RuleInput","this","onChange","Board","i","key","toString","squares","list","map","index","renderSquare","Game","state","history","Array","width","fill","frame","rule","wrap","multiline","neighbors","isArray","length","neighborNum","Math","pow","oldSquares","newSquares","x","applyRule","setState","concat","event","target","current","renderBoard","newRule","bind","advance","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.077082b4.chunk.js","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './assets/main.css';\n\nfunction Square(props) {\n  return (\n    <input type=\"checkBox\" className=\"square w-5 h-5 rounded-none bg-white border-0\" onClick={ props.onClick } checked={ props.value } disabled />\n  );\n}\n\nclass Advancer extends React.Component {\n\trender() {\n\t\treturn (\n\t\t\t<button className=\"advancer py-2 px-4 m-2 bg-blue-300 rounded-md hover:bg-red-300 transition duration-500 focus:bg-red-500\" onClick={ () => this.props.onClick() }>\n\t\t\tAdvance\n\t\t\t</button>//\n\t  );\n\t}\n}\n\nclass RuleInput extends React.Component {\n  render() {\n    return (\n      <label className=\"py-2 px-4 m-2\">Rule <input type=\"text\" className=\"ruleInput w-10\" value={this.props.value} onChange={this.props.onChange} />\n      </label>\n    );\n  }\n}\n\nclass Board extends React.Component {\n\n  renderSquare(i) {\n    return (\n    \t<Square key={i.toString()}\n    \t\tvalue={this.props.squares[i]} \n    \t/>//\n    );\n  }\n\n  render() {\n    \n    const list = this.props.squares.map((value, index) => {\n              return this.renderSquare(index);\n              });\n\n    return (\n        <div className=\"board\">\n          <div className=\"boxList flex justify-center\">\n            { list } \n          </div>\n        </div>//\n    )\n  }\n}\n\nclass Game extends React.Component {\n\n  constructor(props){\n    super(props);\n    this.state = {\n      history: [{\n        squares: Array(props.width).fill(false).fill(true, props.width / 2, props.width / 2 + 1),\n      }],\n      frame: 0,\n      squares: Array(props.width).fill(false).fill(true, props.width / 2, props.width / 2 + 1),\n      rule: this.props.rule,\n      wrap: this.props.wrap,\n      multiline: this.props.multiline\n    };\n  }\n\n  applyRule(neighbors, rule){\n\n    if( !Array.isArray(neighbors) || neighbors.length !== 3 )\n    {\n      return false;\n    }\n\n    // Rule 27 = 16 + 8 + 2 + 1 \n    // Rule 90 = 0 1 0 1 1 0 1 0\n    const neighborNum = neighbors[0] * 4 + neighbors[1] * 2 + neighbors[2];\n    \n    const match = Math.pow( 2, neighborNum ) & rule;\n    //console.log(\"ApplyRule: \" , neighborNum, Math.pow(2, neighborNum), rule, match);\n    return match ? true : false ;\n  }\n\n  advance(){\n\n    const history = this.state.history;\n    const current = history[history.length - 1];\n    const oldSquares = current.squares;\n\n    const newSquares = oldSquares.map( (x, index) => {\n      \n      var neighbors;\n\n      if( index === 0 ){\n        neighbors = [ false, oldSquares[index], oldSquares[index+1] ];\n      } else if ( index  === this.props.width - 1 ){\n        neighbors = [ oldSquares[index - 1], oldSquares[index], 0 ];\n      } else {\n        neighbors = [ oldSquares[index - 1], oldSquares[index], oldSquares[index+1] ];\n      }\n\n      var newVal = this.applyRule( neighbors, this.state.rule );\n\n      return newVal;\n       \n    });\n      \n\n    this.setState((state, props) => ({ \n      frame: state.frame + 1,\n      history: history.concat([{\n        squares: newSquares,\n      }]),\n    }));\n\n  }\n\n\n\n  newRule( event ){\n    this.setState({ rule: event.target.value });\n  }\n\n  renderBoard(i) {\n    return (\n      <Board squares={ i.squares } />//\n    );\n  }\n\n  render() {\n\n    const history = this.state.history;\n    const current = history[history.length - 1];\n\n    var list;\n\n    if(this.state.multiline ){\n      list = history.map((value, index) => {\n                return this.renderBoard(value);\n      });\n    } else {\n      list = this.renderBoard(current);\n    }\n    \n    return (\n      <div className=\"game mt-10 container mx-auto\">\n          <div className=\"controls flex flex-row bg-gray-200\"> \n            <RuleInput value={this.state.rule} onChange={ this.newRule.bind(this) } />\n            <div className=\"status py-2 px-4 m-2\">Step: {this.state.frame}</div>\n            <Advancer onClick={() => this.advance()} />\n          </div>\n        <div className=\"game-board\">\n          { list }\n        </div>\n      </div>//\n    );\n  }\n}\n\nReactDOM.render(\n  <Game width={ 50 } rule={ 90 } wrap={ true } multiline={ true } />,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}